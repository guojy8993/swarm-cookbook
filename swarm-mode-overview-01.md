
# Swarm 模式支持

如果需要使用Docker Engine的swarm模式,你需要安装1.12+版本的Docker Engine.
Docker Engine 1.12包含原生支持集群管理的swarm模式.使用Docker CLI创建swarm,并在其上部署应用服务,并管理swarm的行为.

# Swarm 特性

1. **与Docker Engine集成的集群管理:**使用 Docker CLI去创建Docker Engine Swarm,基于此你可以部署应用服务. 并且你不要额外的编排软件去创建或管理swarm.

2. **去中心化的设计:** Docker Engine在运行时处理任何特殊化,而不是在部署时处理节点角色的差异. 你可以使用Docker Engine部署两种类型的节点:manager与worker.这意味着你可以在单独的磁盘镜像上部署一个完整的swarm.

3. **声明式服务模型:** Docker Engine使用声明式地方法允许你在应用栈中定义各色服务的期望状态. 例如,你可以描述一个由前端web以及后端消息队列+数据库组成的应用.

4. **弹性:** 对于单个服务,你可以指定运行的任务数. 当你弹性扩展或缩小服务时, Swarm manager节点会自适应地添加/删除任务以维护期望的状态.

5. **状态一致:** Swarm manager节点持续监控集群状态并一致化任何与期望状态不一致的差异. 例如,假如你设置以10容器副本运行某服务, 某时刻运行其中2个副本的worker节点崩溃, manager节点将会创建2份新的副本容器以取代崩溃的副本.Swarm manager将2份新副本调度到其他运行中且可用的worker节点.

6. **跨主机网络:** 你可以为你的服务指定一个overlay网络.当容器被初始化或者更新的时,Swarm manager自动为连接于该overlay网络的容器分配属于该网络ip的地址.

7. **服务发现:** Swarm manager节点对运行在swarm中的每一个服务签发独一无二的DNS名字,并在运行的容器见做负载均衡.你可以通过swarm内置的DNS服务器查询每一个运行在swarm中的容器.

8. **负载均衡:** 你可以将服务的端口暴露给外部负载均衡器.而在Swarm内部,你也可以指定如何在节点间分布提供服务的容器.

9. **默认安全:** Swarm中每个节点都对自身与其他节点之间的通信进行强制的TLS双向认证与加密.你也可以选择使用自签名根证书或自定义根CA的证书.

10. **滚动更新:** 你可以渐进地完成你的服务更新. Swarm manager允许你控制将服务部署到不同节点集合之间的延迟. 一旦有任何错误,你可以将服务回滚到之前的一个版本.

[官方原文](https://docs.docker.com/engine/swarm/)
